<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Git Flow Master v0.7.0</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="full-height-flex-layout">
    <!-- Main Column -->
    <div class="main-col">
      <!-- Header -->
      <div class="header">
        <h1>
          <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>" alt="Git Flow Master" class="logomark">
          <span class="logo-text">Git Flow Master</span>
          <div class="queue-bubble" id="queueBubble" style="display: none;">0</div>
        </h1>

        <div class="header-controls">
          <!-- Status -->
          <div class="status">
            <div class="status-dot" id="statusDot"></div>
            <select id="projectSelect" aria-label="Select project">
              <option value="all">All Repositories</option>
            </select>
          </div>

          <!-- Settings Button -->
          <button class="settings-btn" id="settingsBtn" aria-label="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364l-4.243 4.243M9.879 9.879L5.636 5.636m12.728 0l-4.243 4.243M9.879 14.121l-4.243 4.243"></path>
            </svg>
          </button>

          <!-- Theme Toggle -->
          <button class="theme-toggle-btn" id="themeToggle" aria-label="Toggle theme">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: block;">
              <circle cx="12" cy="12" r="4"></circle>
              <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"></path>
            </svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Feed -->
      <div class="feed">
        <div class="feed-content">

          <!-- Quick Stats -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-value" id="repoCount">0</div>
              <div class="stat-label">Repositories</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="hooksCount">0</div>
              <div class="stat-label">Hooks Installed</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="commitsCount">0</div>
              <div class="stat-label">Recent Commits</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="uptimeValue">0m</div>
              <div class="stat-label">Server Uptime</div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="card">
            <div class="card-header">
              <div class="card-header-left">
                <span class="card-type">ACTIONS</span>
              </div>
            </div>
            <div class="card-content">
              <div class="action-buttons">
                <button class="btn btn-primary" onclick="scanAllRepos()">
                  ðŸ”„ Scan All Repositories
                </button>
                <button class="btn btn-success" onclick="loadCurrentRepo()">
                  ðŸ“‚ Load Current Repo
                </button>
                <button class="btn btn-secondary" onclick="refreshState()">
                  ðŸ”ƒ Refresh State
                </button>
              </div>
            </div>
          </div>

          <!-- Repositories List -->
          <div id="reposContainer">
            <!-- Repo cards will be injected here -->
            <div class="card">
              <div class="card-content">
                <div class="loading-state">
                  <div class="spinner"></div>
                  <p style="margin-top: 16px;">Loading repositories...</p>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h1>Settings</h1>
        <button class="modal-close-btn" id="closeSidebar" aria-label="Close sidebar">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="sidebar-content">
        <!-- Convention Editor -->
        <div class="settings-section">
          <h3>Convention Configuration</h3>
          <div class="form-group">
            <label class="form-label">Project Name</label>
            <input type="text" id="configProjectName" placeholder="My Project" />
          </div>
          <div class="form-group">
            <label class="form-label">Default Commit Type</label>
            <select id="configCommitType">
              <option value="PATCH">PATCH - Bug fixes</option>
              <option value="UPDATE">UPDATE - New features</option>
              <option value="RELEASE">RELEASE - Breaking changes</option>
            </select>
          </div>
          <button class="btn btn-primary" onclick="saveConfig()" style="width: 100%;">
            Save Configuration
          </button>
        </div>

        <!-- Statistics -->
        <div class="settings-section">
          <h3>Statistics</h3>
          <div class="stats-scroll">
            <div class="stat-row">
              <span class="stat-label">Total Repositories</span>
              <span class="stat-value-small" id="statTotalRepos">0</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Hooks Installed</span>
              <span class="stat-value-small" id="statTotalHooks">0</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Convention Compliance</span>
              <span class="stat-value-small" id="statCompliance">0%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script src="app-v070.js"></script>
</body>
</html>
